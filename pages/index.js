import Head from 'next/head'
import Image from 'next/image'
import styles from '../styles/Home.module.css'

import { useState } from 'react'

import WheelComponent from 'react-wheel-of-prizes'


export default function Home() {
  let [characterName, setCharacterName] = useState("");
  let [characterImage, setCharacterImage] = useState("");

  const segments = [
    'Astra',
    'Breach',
    'Brimstone',
    'Chamber',
    'Cypher',
    'Jett',
    'Kay/O',
    'Killjoy',
    'Neon',
    'Omen',
    'Phoenix',
    'Raze',
    'Reyna',
    'Sage',
    'Skye',
    'Sova',
    'Viper',
    'Yoru',
  ]
  
  const segColors = [
    'rgb(92,49,123)',
    'rgb(252,118,39)',
    'rgb(54,77,96)',
    'rgb(228,175,65)',
    'rgb(185,185,185)',
    'rgb(167,232,254)',
    'rgb(19,38,128)',
    'rgb(255,240,48)',
    'rgb(78,250,200)',
    'rgb(125,126,193)',
    'rgb(253,203,119)',
    'rgb(255,100,15)',
    'rgb(189,81,176)',
    'rgb(35,252,215)',
    'rgb(209,216,84)',
    'rgb(105,186,240)',
    'rgb(35,174,52)',
    'rgb(36,83,208)',
  ]

  const onFinished = (winner) => {
    setCharacterName(winner);
    setCharacterImage("/images/characters/" + winner.toLowerCase() + ".jpg");
  }

  return (
    <div className={styles.container}>
      <Head>
        <title>Valorant Randomizer</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        <h1 className={styles.title} style={{fontFamily: "Valorant"}}>Valorant Randomizer</h1>

        <WheelComponent
          segments={segments}
          segColors={segColors}
          onFinished={(winner) => onFinished(winner)}
          primaryColor='black'
          contrastColor='white'
          buttonText='Spin'
          isOnlyOnce={false}
          size={250}
          upDuration={10}
          downDuration={400}
          fontFamily='Valorant'
        />

        <h2>{characterName}</h2>
        <img src={characterImage} />
      </main>
    </div>
  )
}
